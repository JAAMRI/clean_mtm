<div class="discover-meals-page">
  <div class="copy">
    <h1>
      SELECT MEALS
    </h1>
    <p class='subheader'>Click <mat-icon>add</mat-icon> to add a recipe to your 'Meal Plan'. Click <mat-icon>
        favorite_border</mat-icon> to save it to your favourites for later.</p>
  </div>
  <div class="search">
    <app-search-bar [searchQuery]='searchQuery' (search)='searchMeals($event)'></app-search-bar>
    <p *ngIf='didYouMean'><strong>Did you mean: </strong>
      <a class='did-you-mean' (click)='setSearchQuery()'>{{didYouMean}}?</a>
    </p>
  </div>
  <div class="filter">
    <p>FILTER RECIPES</p>
    <button mat-icon-button (click)='renderFilterDialog()'>
      <mat-icon>filter_list</mat-icon>
    </button>

  </div>

  <div class='no-items-wrapper' *ngIf='!didYouMean && meals?.length === 0 && !loading'>

    <mat-icon>info</mat-icon> Sorry, we couldn't find any results matching "{{theEnteredSearchQuery}}"
  </div>
  <div class="gif-wrapper" *ngIf='loading'>
    <img class='loading-text' src="/assets/static_images/whisk_wood_green.gif" />
  </div>
  <app-mtm-slider *ngIf='meals.length > 0'>
    <cdk-virtual-scroll-viewport itemSize='200' orientation='horizontal' (scrolledIndexChange)='getNextBatch($event)'>
      <app-meal-item *cdkVirtualFor="let meal of meals" (add)='addToMealPlan($event)' (remove)='removeFromMealPlan($event)'
        (wasClicked)='visitMealDetailPage($event)' [inMealPlan]='mealPlanIds[meal.id]' [mealItem]='meal'
        (favouriteToggled)='updateFavourites($event)' [favourited]='favouriteMealIds[meal.id]'>
      </app-meal-item>
    </cdk-virtual-scroll-viewport>
  </app-mtm-slider>
</div>