<div [class]="isMobile ? 'mobile-dialog-container' : 'dialog-container'">

  <!-- <div class="close-button">*ngIf='isMobile'
    <button mat-icon-button mat-dialog-close>
      <mat-icon>close</mat-icon>
    </button>
  </div> -->
  <div class="dialog-content">
    <div *ngIf='!isMobile' class="auth-img-wrapper">
      <img alt="Sign up" src="/assets/static_images/SignUp_Image.jpg" alt="Authentication">
      <div class="img-content">
        <!-- <p>SIGN UP</p>
        <h1>We'll take you to the edge</h1>
        <p>By creating an account, you agree to these <a href="">terms.</a></p> -->
      </div>

    </div>
    <div [class]="isMobile ? 'mobile-auth-content-stepper' : 'auth-content-stepper'">
      <button aria-label="Close button" class='close-button' mat-icon-button mat-dialog-close>
        <mat-icon>close</mat-icon>
      </button>
      <mat-horizontal-stepper #stepper>
        <mat-step>
          <div [class]="isMobile ? 'auth-container mobile-container' : 'auth-container'">
            <form [formGroup]='signUpFormStep1' (ngSubmit)='stepToCreateAccount()'>
              <p class='auth-header'>Sign up to save your meal plan, favourite recipes, and access it across all your
                devices.
              </p>
              <div class="create-account-wrapper">
                <h2>SIGN UP</h2>
                <mat-form-field>
                  <mat-icon matPrefix class='prefix-icon'>email</mat-icon>
                  <input matInput type="email" placeholder='Email' formControlName='email' required>
                  <mat-icon matSuffix matTooltip='This must be a valid email address.'>info_outline</mat-icon>
                </mat-form-field>
                <button aria-label="Create my account" mat-flat-button
                  (click)="adobeDtbTracking.anchor_link('RegistrationFirstStep')"
                  [disabled]="!signUpFormStep1.valid">Create my account</button>
              </div>
            </form>
            <form class='auth-form' [formGroup]='authForm'
              (ngSubmit)="signIn({'username': signInUsername.value, 'password': signInPassword.value})">
              <div class="sign-in-wrapper">
                <h2>SIGN IN</h2>
                <mat-form-field>
                  <mat-icon matPrefix class='prefix-icon'>email</mat-icon>
                  <input matInput type="text" placeholder='Email' #signInUsername formControlName='email' required>
                  <mat-icon matSuffix matTooltip='This must be a valid email address.'>info_outline</mat-icon>
                </mat-form-field>
                <mat-form-field>
                  <mat-icon matPrefix class='prefix-icon'>lock_open</mat-icon>
                  <input matInput type="password" placeholder='Password' #signInPassword formControlName='password'
                    required>
                  <mat-icon matSuffix
                    matTooltip='Please enter a combination of at least 8 letters, numbers or symbols (!,@...)'>
                    info_outline</mat-icon>
                </mat-form-field>
                <button aria-label="Sign in" type="submit" mat-flat-button [disabled]="!authForm.valid">Sign in</button>
                <a class='forgot-button' mat-button (click)='stepToForgotPassword()'>Forgot your password?</a>
              </div>
            </form>

          </div>
        </mat-step>
        <mat-step>
          <app-forgot-password (back)='stepToLoginPage()' (update)='updatePassword($event)'
            (validate)='validateEmail($event)' [emailValidated]='emailValidated' [invalidEmail]='invalidEmail'
            [invalidCode]='invalidCode'></app-forgot-password>
        </mat-step>
        <mat-step class='personal-info-container'>
          <app-personal-info #appPersonalInfo (signIn)='signIn($event)' (back)='stepToLoginPage()'></app-personal-info>
        </mat-step>
      </mat-horizontal-stepper>
    </div>
  </div>
</div>